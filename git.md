------------
Command | Description
------- | -----------
git diff | по умолчанию показывает изменения только для тех модифицированных файлов, которые ещё не были добавлены в индекс
git diff --staged | показать и добавленные в индекс файлы (см. выше) - эту команду желательно выполнять перед коммитом
git log -p | показать список всех выполненных коммитов, в т.ч. и диффы для каждого коммита
git show <хеш коммита> | посмотреть все изменения, сделанные в рамках одного коммита
git blame <путь до файла> | команда выводит файл и рядом с каждой строкой показывает того, кто её менял и в каком коммите
git grep <line> | ищет совпадение с указанной строкой во всех файлах проекта
git grep -i <line> | флаг i позволяет искать без учета регистра
git grep <line> 5120bea3 | поиск в конкретном коммите
git grep <line> $(git rev-list --all) | поиск по всей истории, rev-list возвращает список хешей коммитов
git clean -fd | -f - force, -d - directory - выполнить очистку. Пример см. ниже (после таблицы)
git revert <хеш коммита> | создать новый коммит, в котором выполнены изменения обратные указанному в команде коммиту
git reset --hard | физически удалить последний коммит
git commit --amend | флаг позволяет добавить изменения в текущий коммит, если в _текущем_ коммите что-то забыли добавить или изменить
git add . | добавить абсолютно все изменения рабочей директории в индекс
git commit -am 'do something' | флаг -a автоматически добавляет все изменения рабочей директории в индекс
git add -i | показывает измененные куски файлов и спрашивает, что с ними сделать
git log --oneline | сокращенный вид лога коммитов (удобно для перемещения по истории)
git checkout <хеш коммита> | переключиться на коммит в прошлое (можно забрать какие-то изменения, которые были удалены, но снова понадобились для работы)
git checkout main | вернуться "из прошлого" в последний коммит
git branch | узнать место нахождения (в каком коммите сейчас нахожусь)
git log --graph | показать односвязный список коммитов
git reset --hard HEAD~2 | HEAD~2 означает: взять голову и удалить, начиная от нее, два коммита
git stash | «спрятать» изменения в рабочей директории (независимо от того, добавлены они в индекс или нет) и восстанавливать их при необходимости
git stash pop | восстанавливаем "спрятанное"
-----------------
Stash используем когда нужно сделать быстрый коммит с исправлением, но не добавляя туда код, над которым идёт работа прямо сейчас

Stash в Git работает по принципу стека. Он позволяет сохранить внутрь любое количество изменений и восстановить их в обратном порядке.

Когда команда не просто выводит на экран разницу между файлами, но и запускает пейджер, то:
- для перемещения вниз нажать **f**,
- для перемещения наверх **u**,
- для выхода из режима просмотра **q**

Примечание к флагу --amend
В реальности --amend не добавляет изменения в существующий коммит, этот флаг приводит к откату коммита (через reset) и выполнению нового коммита с новыми данными. Поэтому мы и видим ровно один коммит

Example -fd:
*mkdir one
*touch two
// Пустые директории в git не добавляются в принципе. Физически директория one находится в рабочей директории, но её нет в git, и он её игнорирует.
// Выполняем очистку
*git clean -fd
// Removing one/
// Removing two
// Мы добавили новые файлы в репозиторий (или сгенерировали их как-то) и поняли, что они нам не нужны.
////////////////
- Важно! Откат незакоммиченных изменений безвозвратен.

Gist, чтобы выводилось текущее местоположение (в каком коммите сейчас нахожусь) прямо в командной строке https://gist.github.com/justintv/168835